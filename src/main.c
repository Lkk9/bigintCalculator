#include "bigint.h"
#include "notation.h"
#include "returncode.h"
#include "stack.h"
#include <stdio.h>
#include <string.h>
#include <time.h>

int main(int argc, char **argv) {
    if (argc != 2) {
        fprintf(stderr, "Requires one argument, instead got %d\n", argc - 1);
        return RC_INV_ARG;
    }

    notation_t notation;
    if (strcmp(argv[1], "--revpol") == 0) {
        notation = REVPOL;
    } else if (strcmp(argv[1], "--infix") == 0) {
        notation = INFIX;
    } else {
        fprintf(stderr, "Invalid argument name \"%s\"\n", argv[1]);
        return RC_INV_ARG;
    }
    ll_mexp_t *stack = NULL;
    bi_t *a, *b, *c;
    // bi_from_str(a, "-0238");
    clock_t begin = clock();
    bi_from_str(b,
                "5907239087589237895239805478932482375987324985072723098753238954789273590723908758923789523980547893248237598732498507272309875323895478927359072390875892378952398054789324823759873249850727230987532389547892735907239087589237895239805478932482375987324985072723098753238954789273590723908758923789523980547893248237598732498507272309875323895478927359072390875892378952398054789324823759873249850727230987532389547892735907239087589237895239805478932482375987324985072723098753238954789273590723908758923789523980547893248237598732498507272309875323895478927359072390875892378952398054789324823759873249850727230987532389547892735907239087589237895239805478932482375987324985072723098753238954789273590723908758923789523980547893248237598732498507272309875323895478927359072390875892378952398054789324823759873249850727230987532389547892735907239087589237895239805478932459072390875892378952398054789324823759873249850727230987532389547892735907239087589237895239805478932482375");
    // printf("\n-----------\n");
    // bi_add(c, a, b);
    clock_t end = clock();
    printf("time: %lf\n", (double)(end - begin) / CLOCKS_PER_SEC);
    if (ll_mexp_push(stack, 23) == NULL) {
        return RC_MEM_ERR;
    }

    return RC_OK;
}